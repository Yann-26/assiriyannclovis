{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {% for about in about %}

    <title>{{about.name}}</title>
    {% endfor %}
    <link
      rel="icon"
      type="image/x-icon"
      href="{% static '/images/favicon.ico' %}"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  </head>
  <body>
    <!-- Header & Navigation -->
    <header>
      <div class="container">
        <nav class="navbar">
          <a href="#" class="logo">Yann Clovis Assiri<span></span></a>
          <ul class="nav-menu">
            <li class="nav-item">
              <a href="#home-section" class="nav-link"><span>Home</span></a>
            </li>
            <li class="nav-item">
              <a href="#about-section" class="nav-link"><span>About</span></a>
            </li>
            <li class="nav-item">
              <a href="#resume-section" class="nav-link"><span>Resume</span></a>
            </li>
            <li class="nav-item">
              <a href="#services-section" class="nav-link"
                ><span>Services</span></a
              >
            </li>
            <li class="nav-item">
              <a href="#skills-section" class="nav-link"><span>Skills</span></a>
            </li>
            <li class="nav-item">
              <a href="#projects-section" class="nav-link"
                ><span>Catalog</span></a
              >
            </li>
            <li class="nav-item">
              <a href="#blog-section" class="nav-link"><span>My Blog</span></a>
            </li>
            <li class="nav-item">
              <a href="#contact-section" class="nav-link"
                ><span>Contact</span></a
              >
            </li>
          </ul>
          <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </div>
        </nav>
      </div>
    </header>

    <!-- Home Section -->
    <section id="home-section">
      <div class="container">
        <div class="home-content">
          <h1>
            Hi, I'm Yann Assiri<br />
            <span>Software Engineer</span>
          </h1>
          <p>
            I design and develop exceptional digital experiences that make
            everyday life simpler.
          </p>
          <div class="home-btns">
            <a href="#projects-section" class="btn">View My Work</a>
            <a href="#contact-section" class="btn">Contact Me</a>
          </div>
        </div>
      </div>
      <svg class="home-bg" viewBox="0 0 100 100" preserveAspectRatio="none">
        <path d="M0,0 L100,0 L100,100 Z" fill="#f8fafc"></path>
      </svg>
    </section>

    <!-- About Section -->
    <section id="about-section">
      <div class="container">
        <div class="section-title">
          <h2>About Me</h2>
        </div>
        <div class="about-content">
          <div class="about-img">
            <img src="static/images/mee.jpg" alt="Yann Clovis" />
          </div>
          {% for about in about %}
          <div class="about-text">
            <h3>Software Engineer & Web/mobile Developer</h3>
            <p>{{about.description}}</p>
            <div class="about-info">
              <div class="info-item">
                <i class="fas fa-user"></i>
                <div>
                  <strong>Name:</strong>
                  <p>{{about.name}}</p>
                </div>
              </div>
              <div class="info-item">
                <i class="fas fa-envelope"></i>
                <div>
                  <strong>Email:</strong>
                  <p>{{about.email}}</p>
                </div>
              </div>
              <div class="info-item">
                <i class="fas fa-phone"></i>
                <div>
                  <strong>Phone:</strong>
                  <p>{{about.phone_number}}</p>
                </div>
              </div>
              <div class="info-item">
                <i class="fas fa-map-marker-alt"></i>
                <div>
                  <strong>Location:</strong>
                  <p>{{about.address}}</p>
                </div>
              </div>
            </div>
            <p>
              <a
                href="{% url 'download_cv' about.id %}"
                class="btn btn-primary py-3 px-3"
              >
                My resume
              </a>
            </p>
            {% endfor %}
          </div>
        </div>
      </div>
    </section>

    <!-- Resume Section -->
    <section id="resume-section">
      <div class="container">
        <div class="section-title">
          <h2>My Resume</h2>
        </div>
        <h3>Education</h3>
        <div class="resume-container">
          {% for item in resum %}
          <div class="resume-column">
            <div class="resume-item">
              <h3>{{item.diplome_or_post}}</h3>
              <span class="date">{{item.year}}</span>
              <p>{{item.entreprise_or_school}}</p>
              <p>{{item.short_resume}}</p>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section id="services-section">
      <div class="container">
        <div class="section-title">
          <h2>My Services</h2>
        </div>
        <div class="services-container">
          {% for item in serv %}
          <div class="service-item">
            <i class="{{item.icon}}"></i>
            <h3>{{item.service_name}}</h3>
            <p>
              Building responsive and accessible websites and web applications
              using modern technologies.
            </p>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>

    <!-- Skills Section -->
    <section id="skills-section">
      <div class="container">
        <div class="section-title">
          <h2>My Skills</h2>
        </div>
        <div class="skills-container">
          {% for item in skil %}
          <div class="skills-column">
            <div class="skill-item">
              <div class="skill-info">
                <span>{{item.title}}</span>
                <span>{{item.percentage}}%</span>
              </div>
              <div class="skill-bar">
                <div
                  class="skill-progress"
                  style="width: {{item.percentage}}%"
                ></div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>

    <!-- Projects Section -->
    <section id="projects-section">
      <div class="container">
        <div class="section-title">
          <h2>My Projects</h2>
        </div>
        <div class="projects-container">
          {% for item in projects %}
          <div class="project-item">
            <div class="project-img">
              <img src="{{ item.featured_image.url }}" alt="{{ item.title }}" />
            </div>
            <div class="project-content">
              <h3>{{ item.title }}</h3>
              <p>{{ item.short_description }}</p>
              <a href="{% url 'project_detail' item.slug %}" class="btn"
                >View Project</a
              >
            </div>
          </div>
          {% endfor %}
        </div>
        <!-- Pagination -->
        <div class="pagination">
          {% if projects.has_previous %}
          <a href="?page={{ projects.previous_page_number }}">Previous</a>
          {% endif %}

          <span
            >Page {{ projects.number }} of {{ projects.paginator.num_pages
            }}</span
          >

          {% if projects.has_next %}
          <a href="?page={{ projects.next_page_number }}">Next</a>
          {% endif %}
        </div>
      </div>
    </section>

    <!-- Blog Section -->
    <section id="blog-section">
      <div class="container">
        <div class="section-title">
          <h2>My Blog</h2>
        </div>
        <div class="blog-container">
          {% for item in proj %}
          <div class="blog-item">
            <div class="blog-img">
              <img src="{{ item.image.url }}" alt="Web Development" />
            </div>
            <div class="blog-content">
              <span class="date">{{ item.date_issue }}</span>
              <h3>{{ item.project_name }}</h3>
              <a href="#" class="btn">Read More</a>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact-section">
      <div class="container">
        <div class="section-title">
          <h2>Contact Me</h2>
        </div>
        <div class="contact-container">
          <div class="contact-info">
            <h3>Get In Touch</h3>
            <p>
              Feel free to contact me for any work or suggestions. I'm always
              open to discussing new projects and opportunities.
            </p>
            <br />
            <div class="contact-info-item">
              <i class="fas fa-map-marker-alt"></i>
              <div>
                <h4>Location</h4>
                <p>{{contac.address}}</p>
              </div>
            </div>
            <div class="contact-info-item">
              <i class="fas fa-envelope"></i>
              <div>
                <h4>Email</h4>
                <p>{{contac.mon_email}}</p>
              </div>
            </div>
            <div class="contact-info-item">
              <i class="fas fa-phone"></i>
              <div>
                <h4>Phone</h4>
                <p>{{contac.contact_number}}</p>
              </div>
            </div>
          </div>
          <div class="contact-form">
            <h3>Send Message</h3>
            <form id="contactForm" action="{% url 'contact' %}" method="post">
              {% csrf_token %}
              <div class="form-group">
                <input
                  type="text"
                  placeholder="Your Name"
                  required
                  name="name"
                />
              </div>
              <div class="form-group">
                <input
                  type="email"
                  placeholder="Your Email"
                  required
                  name="email"
                />
              </div>
              <div class="form-group">
                <input
                  type="text"
                  placeholder="Subject"
                  required
                  name="subject"
                />
              </div>
              <div class="form-group">
                <textarea
                  name="message"
                  id=""
                  cols="30"
                  rows="7"
                  class="form-control"
                  placeholder="Message"
                  required
                ></textarea>
              </div>
              <button type="submit" class="btn">Send Message</button>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="social-links">
          {% for social in socialinks %}
          <a href="{{social.link}}"><i class="{{social.name}}"></i></a>
          {% endfor %}
        </div>
        <div class="row">
          <div class="col-md-12 text-center">
            <p>
              Copyright &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              All rights reserved |
              <i class="icon-heart color-danger" aria-hidden="true"></i> by
              <a href="#about-section">Yann Clovis Assiri ❤️</a>
            </p>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Mobile Navigation Toggle
      const hamburger = document.querySelector(".hamburger");
      const navMenu = document.querySelector(".nav-menu");

      hamburger.addEventListener("click", () => {
        hamburger.classList.toggle("active");
        navMenu.classList.toggle("active");
      });

      document.querySelectorAll(".nav-link").forEach((n) =>
        n.addEventListener("click", () => {
          hamburger.classList.remove("active");
          navMenu.classList.remove("active");
        })
      );

      // Form Submission
      document
        .getElementById("contactForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          alert("Thank you for your message! I'll get back to you soon.");
          this.reset();
        });

      // Animate skill bars on scroll
      window.addEventListener("scroll", function () {
        const skillBars = document.querySelectorAll(".skill-progress");
        skillBars.forEach((bar) => {
          const position = bar.getBoundingClientRect().top;
          const screenPosition = window.innerHeight / 1.3;
          if (position < screenPosition) {
            bar.style.width = bar.style.width;
          }
        });
      });
    </script>
  </body>
</html>
